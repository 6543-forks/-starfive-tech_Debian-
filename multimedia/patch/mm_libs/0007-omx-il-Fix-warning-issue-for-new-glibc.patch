From e335a0ec4a6bf6fe3b41c122fd3464731168be2a Mon Sep 17 00:00:00 2001
From: Andy Hu <andy.hu@starfivetech.com>
Date: Thu, 19 Jan 2023 19:20:03 +0800
Subject: [PATCH] omx-il: Fix warning issue for new glibc

---
 omx-il/tests/dec_test.c       | 10 +++++-----
 omx-il/tests/enc_test.c       |  4 +---
 omx-il/tests/mjpeg_dec_test.c | 10 +++++-----
 3 files changed, 11 insertions(+), 13 deletions(-)

diff --git a/omx-il/tests/dec_test.c b/omx-il/tests/dec_test.c
index cb56d18..afd3109 100644
--- a/omx-il/tests/dec_test.c
+++ b/omx-il/tests/dec_test.c
@@ -333,11 +333,11 @@ int main(int argc, char **argv)
         }
     }
 
-    if (decodeTestContext->sInputFilePath == NULL || decodeTestContext->sOutputFilePath == NULL)
-    {
-        help();
-        return -1;
-    }
+    // if (decodeTestContext->sInputFilePath == NULL || decodeTestContext->sOutputFilePath == NULL)
+    // {
+    //     help();
+    //     return -1;
+    // }
     /*ffmpeg init*/
     printf("init ffmpeg\r\n");
     AVFormatContext *avContext = NULL;
diff --git a/omx-il/tests/enc_test.c b/omx-il/tests/enc_test.c
index 169945b..721b8d0 100644
--- a/omx-il/tests/enc_test.c
+++ b/omx-il/tests/enc_test.c
@@ -340,9 +340,7 @@ int main(int argc, char **argv)
     }
 
     encodeTestContext->nFrameBufferSize = width * height * 3 / 2;
-    if (encodeTestContext->sInputFilePath == NULL ||
-        encodeTestContext->sOutputFilePath == NULL ||
-        encodeTestContext->nFrameBufferSize == 0 ||
+    if (encodeTestContext->nFrameBufferSize == 0 ||
         encodeTestContext->pInputFile == NULL)
     {
         help();
diff --git a/omx-il/tests/mjpeg_dec_test.c b/omx-il/tests/mjpeg_dec_test.c
index 17d0826..c827a59 100644
--- a/omx-il/tests/mjpeg_dec_test.c
+++ b/omx-il/tests/mjpeg_dec_test.c
@@ -376,11 +376,11 @@ int main(int argc, char **argv)
         }
     }
 
-    if (decodeTestContext->sInputFilePath == NULL || decodeTestContext->sOutputFilePath == NULL)
-    {
-        help();
-        return -1;
-    }
+    // if (decodeTestContext->sInputFilePath == NULL || decodeTestContext->sOutputFilePath == NULL)
+    // {
+    //     help();
+    //     return -1;
+    // }
     if ((decodeTestContext->ScaleFactorH || decodeTestContext->ScaleFactorV) && decodeTestContext->Rotation)
     {
         printf("Invalid operation mode : Rotation cannot work with the scaler");
-- 
2.36.0

